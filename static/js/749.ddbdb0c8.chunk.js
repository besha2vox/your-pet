"use strict";(self.webpackChunkyour_pet=self.webpackChunkyour_pet||[]).push([[749],{8749:function(n,e,t){t.r(e),t.d(e,{default:function(){return Wn}});var r,o,i,a,c,s,l,u,d,m,p,f,h,x,g,b,y,v,Z,j,k,w,P,S,B,F,z,C,D,N,L,q,A,E,M=t(2791),T=t(5861),H=t(9439),_=t(4687),I=t.n(_),Y=t(5705),O=t(7689),G=t(9434),U=t(4066),X=t(9273),R=t(4942),V=t(1413),W=t(6727),$=W.Ry().shape({title:W.Z_().required("Title is required").min(2,"Name must be at least 2 characters").max(16,"Name must not exceed 16 characters"),category:W.Z_().required("Category is required").oneOf(["my pet","sell","lost-found","for-free"],"Invalid category"),name:W.Z_().required("Name is required").min(2,"Name must be at least 2 characters").max(16,"Name must not exceed 16 characters"),birthday:W.Z_().required("Date is required").matches(/^(\d{2})\.(\d{2})\.(\d{4})$/,"Invalid date format. Use DD.MM.YYYY"),breed:W.Z_().required("Breed is required").min(2,"Breed must be at least 2 characters").max(16,"Breed must not exceed 16 characters"),petPhoto:W.nK().required("File is required").test("fileSize","File size must not exceed 3MB",(function(n){return n&&n.size<=3145728})),sex:W.Z_().required("Sex is required").oneOf(["male","female"],"Invalid sex"),location:W.Z_().required("Location is required").matches(/^[A-Za-z\s]+$/i,"Invalid location format"),price:W.Rx().positive("Price must be greater than 0").required("Price is required"),comments:W.Z_().test("comments","Comments must be between 8 and 120 characters",(function(n){return!n||n.length>=8&&n.length<=120}))}),J=function(){var n=(0,T.Z)(I().mark((function n(e,t,r){return I().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,$.validateAt(e,t);case 3:r((function(n){return(0,V.Z)((0,V.Z)({},n),{},(0,R.Z)({},e,""))})),n.next=9;break;case 6:n.prev=6,n.t0=n.catch(0),r((function(t){return(0,V.Z)((0,V.Z)({},t),{},(0,R.Z)({},e,n.t0.message))}));case 9:case"end":return n.stop()}}),n,null,[[0,6]])})));return function(e,t,r){return n.apply(this,arguments)}}(),K=t(168),Q=t(6444),nn=Q.ZP.div(r||(r=(0,K.Z)(["\n  display: flex;\n  flex-direction: column;\n  padding: 20px 8px 17px;\n  width: 100%;\n  min-height: 496px;\n  background: ",";\n  box-shadow: ",";\n  border-radius: 40px;\n\n  @media screen and (min-width: ",") {\n    margin: 0 auto;\n    padding: 20px 32px;\n    width: fit-content;\n    min-width: 458px;\n  }\n\n  @media screen and (min-width: ",") {\n    padding: ",";\n  }\n"])),(function(n){return n.theme.colors.white}),(function(n){return n.theme.boxShadows.main}),(function(n){return n.theme.breakpoints.tablet}),(function(n){return n.theme.breakpoints.desktop}),(function(n){var e=n.step,t=n.category;return 2===e&&"my-pet"!==t?"20px 74px":"20px 32px"})),en=(0,Q.ZP)(Y.l0)(o||(o=(0,K.Z)(["\n  display: flex;\n  flex-direction: column;\n  flex-grow: 1;\n"]))),tn=Q.ZP.h1(i||(i=(0,K.Z)(["\n  font-family: ",";\n  padding-left: 12px;\n  margin-bottom: 24px;\n  font-size: ",";\n  line-height: 1.35;\n\n  color: ",";\n"])),(function(n){return n.theme.fonts.main.medium}),(function(n){return n.theme.fontSizes[3]}),(function(n){return n.theme.colors.black})),rn=Q.ZP.ul(a||(a=(0,K.Z)(["\n  display: flex;\n  column-gap: 12px;\n  margin-bottom: 16px;\n"]))),on=Q.ZP.li(c||(c=(0,K.Z)(["\n  position: relative;\n  padding-bottom: 20px;\n  flex-basis: calc((100% - 24px) / 3);\n\n  &::after {\n    content: '';\n    position: absolute;\n    bottom: 0;\n    left: 0;\n\n    width: 100%;\n    height: 8px;\n\n    background-color: ",";\n    border-radius: 8px;\n  }\n\n  &.current::after {\n    background-color: ",";\n  }\n\n  &.completed::after {\n    background-color: ",";\n  }\n"])),(function(n){return n.theme.colors.lightblue}),(function(n){return n.theme.colors.blue}),(function(n){return n.theme.colors.green})),an=Q.ZP.p(s||(s=(0,K.Z)(["\n  font-family: ",";\n  font-size: 10px;\n  line-height: 1.4;\n\n  color: ",";\n\n  ",".current & {\n    color: ",";\n  }\n\n  ",".completed & {\n    color: ",";\n  }\n\n  @media screen and (min-width: ",") {\n    font-size: ",";\n    line-height: 1.62;\n  }\n"])),(function(n){return n.theme.fonts.main.medium}),(function(n){return n.theme.colors.lightblue}),on,(function(n){return n.theme.colors.blue}),on,(function(n){return n.theme.colors.green}),(function(n){return n.theme.breakpoints.tablet}),(function(n){return n.theme.fontSizes[2]})),cn=Q.ZP.div(l||(l=(0,K.Z)(["\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n  justify-content: center;\n  margin-top: 24px;\n\n  @media screen and (min-width: ",") {\n    flex-direction: row-reverse;\n    justify-content: ",";\n    margin-top: 40px;\n    column-gap: 24px;\n  }\n"])),(function(n){return n.theme.breakpoints.tablet}),(function(n){var e=n.category,t=n.isMoreInfo;return"your-pet"!==e?t:"end"})),sn=t(1087),ln=(0,Q.F4)(u||(u=(0,K.Z)(["\n0% {\n  transform: translateX(0);\n}\n15% {\n  transform: translateX(15%);\n}\n60% {\n  transform: translateX(-30%);\n}\n100% {\n  transform: translateX(0);\n}\n"]))),un=(0,Q.iv)(d||(d=(0,K.Z)(["\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  gap: 12px;\n\n  padding: "," 0;\n\n  max-height: 40px;\n\n  font-family: ",";\n  font-size: ",";\n  font-weight: 700;\n  line-height: 1.38;\n\n  color: ",";\n  background-color: transparent;\n  border: none;\n\n  transition: color 300ms ",";\n\n  & svg {\n    stroke: currentColor;\n  }\n\n  &:hover svg,\n  &:focus svg {\n    animation: "," 600ms linear infinite;\n  }\n"])),(function(n){return 2*n.theme.space[2]+"px"}),(function(n){return n.theme.fonts.main.semiBold}),(function(n){return n.theme.fontSizes[2]}),(function(n){return n.theme.colors.blue}),(function(n){return n.theme.transition.main}),ln),dn=(0,Q.iv)(m||(m=(0,K.Z)(["\n  z-index: 10;\n  position: relative;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n\n  padding: "," 0;\n  gap: 12px;\n\n  min-width: 248px;\n\n  font-family: ",";\n  font-size: ",";\n  font-weight: 700;\n  line-height: 1.38;\n\n  color: ",";\n  background-color: ",";\n  border: none;\n  border-radius: 40px;\n  transition: color 300ms ",",\n    background-color 300ms ",";\n  overflow: hidden;\n\n  &::before {\n    content: '';\n    z-index: -1;\n    position: absolute;\n    top: 0;\n    left: 0;\n    width: 100%;\n    height: 100%;\n    background-image: ",";\n    opacity: 0;\n    transition: opacity 300ms ",";\n  }\n\n  &:hover,\n  &:focus {\n    background-color: ",";\n  }\n\n  &:hover::before,\n  &:focus::before {\n    opacity: 1;\n  }\n\n  & svg {\n    fill: currentColor;\n  }\n\n  &:disabled {\n    color: ",";\n    background-color: ",";\n    border-color: ",";\n    pointer-events: none;\n  }\n"])),(function(n){return 2*n.theme.space[2]+"px"}),(function(n){return n.theme.fonts.main.semiBold}),(function(n){return n.theme.fontSizes[2]}),(function(n){return n.theme.colors.white}),(function(n){return n.theme.colors.blue}),(function(n){return n.theme.transition.main}),(function(n){return n.theme.transition.main}),(function(n){return n.theme.colors.gradientBlue}),(function(n){return n.theme.transition.main}),(function(n){return n.filled&&"transparent"}),(function(n){return n.theme.colors.grey}),(function(n){return n.theme.colors.lightBlue}),(function(n){return n.theme.colors.lightBlue})),mn=Q.ZP.button(p||(p=(0,K.Z)(["\n  ","\n"])),dn),pn=Q.ZP.button(f||(f=(0,K.Z)(["\n  ","\n"])),un),fn=(0,Q.ZP)(sn.rU)(h||(h=(0,K.Z)(["\n  ","\n"])),un),hn=t(8473),xn=t(3329),gn=function(n){var e=n.text,t=n.clickHandler,r=n.type,o=n.isLink,i=n.path;return o?(0,xn.jsxs)(fn,{onClick:t,type:r,to:i,children:[(0,xn.jsx)(hn.Y4,{}),e]}):(0,xn.jsxs)(pn,{onClick:t,type:r,children:[(0,xn.jsx)(hn.Y4,{}),e]})},bn=function(n){var e=n.text,t=n.icon,r=n.clickHandler,o=n.filled,i=n.short,a=n.type,c=n.isDisabled;return(0,xn.jsxs)(mn,{type:a,onClick:r&&function(){return r(!1)},filled:o,short:i,disabled:c,children:[e,t]})},yn=Q.ZP.p(x||(x=(0,K.Z)(["\n  position: absolute;\n  bottom: -4px;\n  left: 16px;\n\n  font-size: ",";\n  line-height: 1.33;\n  color: ",";\n  transform: translateY(100%);\n"])),(function(n){return n.theme.fontSizes[0]}),(function(n){return n.theme.colors.red})),vn=function(n){var e=n.message;return(0,xn.jsx)(yn,{children:e})},Zn=Q.ZP.div(g||(g=(0,K.Z)(["\n  display: flex;\n  flex-direction: column;\n  flex-grow: 1;\n  padding: 16px 0 24px;\n  gap: 20px;\n"]))),jn=Q.ZP.div(b||(b=(0,K.Z)(["\n  position: relative;\n"]))),kn=Q.ZP.label(y||(y=(0,K.Z)(["\n  display: flex;\n  flex-direction: column;\n  gap: 4px;\n\n  font-weight: 500;\n  font-size: 14px;\n  line-height: 1.36;\n\n  color: ",";\n\n  @media screen and (min-width: ",") {\n    gap: 8px;\n    font-size: 20px;\n    line-height: 1.3;\n  }\n"])),(function(n){return n.theme.colors.black}),(function(n){return n.theme.breakpoints.tablet})),wn=(0,Q.ZP)(Y.gN)(v||(v=(0,K.Z)(["\n  padding: 10px 16px;\n\n  font-size: 14px;\n  line-height: 1.5;\n\n  border: 1px solid ",";\n  border-radius: 40px;\n  outline-color: ",";\n  transition: outline 300ms ",";\n\n  &.invalid {\n    border-color: ",";\n  }\n\n  @media screen and (min-width: ",") {\n    font-size: 16px;\n    min-width: 394px;\n    padding: 12px 16px;\n  }\n\n  &[type='date']::-webkit-calendar-picker-indicator {\n    cursor: pointer;\n  }\n"])),(function(n){return n.theme.colors.blue}),(function(n){return n.theme.colors.blue}),(function(n){return n.theme.transition.main}),(function(n){return n.theme.colors.red}),(function(n){return n.theme.breakpoints.tablet})),Pn=(0,Q.iv)(Z||(Z=(0,K.Z)(["\n  position: absolute;\n  width: 1px;\n  height: 1px;\n  margin: -1px;\n  border: 0;\n  padding: 0;\n  white-space: nowrap;\n  clip-path: inset(100%);\n  clip: rect(0 0 0 0);\n  overflow: hidden;\n"]))),Sn=Q.ZP.div(j||(j=(0,K.Z)(["\n  display: flex;\n  flex-direction: column;\n  flex-grow: 1;\n  padding-top: 24px;\n  row-gap: 12px;\n"]))),Bn=(0,Q.ZP)(Y.gN)(k||(k=(0,K.Z)(["\n  ","\n"])),Pn),Fn=Q.ZP.label(w||(w=(0,K.Z)(["\n  padding: 8px 16px;\n\n  width: fit-content;\n\n  font-weight: 500;\n  font-size: 14px;\n  line-height: 1.36;\n  letter-spacing: 0.04em;\n\n  color: ",";\n  background-color: ",";\n  border-radius: 40px;\n  cursor: pointer;\n\n  transition: color 300ms ",",\n    background-color 300ms ",";\n\n  &:hover,\n  &:focus,\n  ",":checked + & {\n    background-color: ",";\n    color: ",";\n  }\n"])),(function(n){return n.theme.colors.blue}),(function(n){return n.theme.colors.lightBlue}),(function(n){return n.theme.transition.main}),(function(n){return n.theme.transition.main}),Bn,(function(n){return n.theme.colors.blue}),(function(n){return n.theme.colors.white})),zn=Q.ZP.div(P||(P=(0,K.Z)(["\n  display: flex;\n  flex-direction: column;\n  flex-grow: 1;\n  padding: 16px 0 24px;\n  gap: 20px;\n\n  @media screen and (min-width: ",") {\n    ",";\n  }\n"])),(function(n){return n.theme.breakpoints.tablet}),(function(n){return"my-pet"!==n.category?"flex-direction: row; column-gap:44px":""})),Cn=Q.ZP.div(S||(S=(0,K.Z)(["\n  display: flex;\n  ",";\n  gap: 20px;\n\n  @media screen and (min-width: ",") {\n    ",";\n  }\n"])),(function(n){return"my-pet"!==n.category?"flex-direction: column;":""}),(function(n){return n.theme.breakpoints.tablet}),(function(n){return"my-pet"!==n.category?"row-gap: 38px;":""})),Dn=Q.ZP.div(B||(B=(0,K.Z)(["\n  display: flex;\n  flex-direction: column;\n  gap: 20px;\n\n  @media screen and (min-width: ",") {\n    gap: 24px;\n  }\n"])),(function(n){return n.theme.breakpoints.tablet})),Nn=(0,Q.ZP)(Y.gN)(F||(F=(0,K.Z)(["\n  ","\n"])),Pn),Ln=(0,Q.ZP)(kn)(z||(z=(0,K.Z)(["\n  @media screen and (min-width: ",") {\n    height: 100%;\n  }\n"])),(function(n){return n.theme.breakpoints.tablet})),qn=(0,Q.ZP)(wn)(C||(C=(0,K.Z)(["\n  resize: none;\n  height: 92;\n  flex-grow: 1;\n\n  border-radius: 20px;\n\n  @media screen and (min-width: 768px) {\n    height: 108px;\n  }\n"]))),An=Q.ZP.div(D||(D=(0,K.Z)(["\n  display: flex;\n  flex-direction: column;\n  row-gap: 8px;\n  column-gap: 16px;\n\n  @media screen and (min-width: ",") {\n    row-gap: 20px;\n  }\n\n  & p {\n    font-weight: 500;\n    font-size: 14px;\n    line-height: 1.36;\n\n    color: ",";\n\n    @media screen and (min-width: 768px) {\n      font-size: 20px;\n      line-height: 1.3;\n    }\n  }\n"])),(function(n){return n.theme.breakpoints.tablet}),(function(n){return n.theme.colors.black})),En=Q.ZP.div(N||(N=(0,K.Z)(["\n  display: inherit;\n"]))),Mn=Q.ZP.label(L||(L=(0,K.Z)(["\n  display: flex;\n  column-count: 12px;\n  align-items: center;\n\n  font-size: 16px;\n  line-height: 1.5;\n\n  color: #888888;\n\n  cursor: pointer;\n  transition: color 300ms ",";\n\n  &:hover {\n    color: ",";\n  }\n\n  ",":checked + & {\n    color: ",";\n  }\n"])),(function(n){return n.theme.transition.main}),(function(n){return n.theme.colors.blue}),Bn,(function(n){return n.theme.colors.black})),Tn=(0,Q.ZP)(kn)(q||(q=(0,K.Z)(["\n  display: flex;\n  flex-direction: row;\n  align-items: center;\n  column-gap: 28px;\n\n  @media screen and (min-width: ",") {\n    ",";\n  }\n"])),(function(n){return n.theme.breakpoints.tablet}),(function(n){return"my-pet"!==n.category?"flex-direction: column":""})),Hn=Q.ZP.div(A||(A=(0,K.Z)(["\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  width: 112px;\n  height: 112px;\n\n  background-color: ",";\n  border-radius: 20px;\n  color: ",";\n\n  cursor: pointer;\n  overflow: hidden;\n  object-position: center;\n  object-fit: cover;\n\n  & svg {\n    stroke: currentColor;\n  }\n\n  & img {\n    width: 100%;\n    height: 100%;\n    object-fit: cover;\n  }\n\n  @media screen and (min-width: ",") {\n    min-width: 182px;\n    height: 182px;\n  }\n"])),(function(n){return n.theme.colors.lightBlue}),(function(n){return n.theme.colors.blue}),(function(n){return n.theme.breakpoints.tablet})),_n=function(n){var e=n.formData,t=n.setFormData,r=n.submit,o=n.backStep,i=(0,M.useState)(!0),a=(0,H.Z)(i,2),c=a[0],s=a[1],l=(0,M.useState)({}),u=(0,H.Z)(l,2),d=u[0],m=u[1],p=(0,M.useState)(""),f=(0,H.Z)(p,2),h=f[0],x=f[1],g=(0,M.useState)(window.innerWidth),b=(0,H.Z)(g,2),y=b[0],v=b[1],Z=Boolean(!d.petPhoto&&!!e.petPhoto),j=Boolean(!d.comments),k=Boolean(!d.location&&!!e.location),w=Boolean(!d.sex&&!!e.sex),P=Boolean(!d.price&&!!e.price);(0,M.useEffect)((function(){var n=function(){v(window.innerWidth)};return window.addEventListener("resize",n),function(){window.removeEventListener("resize",n)}}),[]),(0,M.useEffect)((function(){"sell"===e.category&&s(!(Z&&k&&w&&P&&j)),"my-pet"===e.category?s(!(Z&&j)):s(!(Z&&k&&w&&j))}),[d,e.category,j,k,Z,P,w]);var S=function(n){var e=n.target,r=e.name,o=e.value,i=e.type,a=e.files,c="file"===i?a[0]:o;m((function(n){return(0,V.Z)((0,V.Z)({},n),{},(0,R.Z)({},r,""))})),"file"===i&&x(o),t((function(n){return(0,V.Z)((0,V.Z)({},n),{},(0,R.Z)({},r,c))}))};return(0,xn.jsxs)(xn.Fragment,{children:[(0,xn.jsxs)(zn,{category:e.category,children:[(0,xn.jsxs)(Cn,{category:e.category,children:["my-pet"!==e.category&&(0,xn.jsxs)(An,{children:[(0,xn.jsx)("p",{children:"The Sex"}),(0,xn.jsxs)(En,{children:[(0,xn.jsx)(Bn,{type:"radio",id:"female",name:"sex",value:"female",onChange:S,checked:"female"===e.sex,onBlur:function(){return J("sex",e,m)}}),(0,xn.jsxs)(Mn,{htmlFor:"female",children:[(0,xn.jsx)(hn.sh,{stroke:"#F43F5E"}),"Female"]}),(0,xn.jsx)(Bn,{type:"radio",id:"male",name:"sex",value:"male",onChange:S,checked:"male"===e.sex,onBlur:function(){return J("sex",e,m)}}),(0,xn.jsxs)(Mn,{htmlFor:"male",children:[(0,xn.jsx)(hn.w,{stroke:"#54ADFF"}),"Male"]})]})]}),(0,xn.jsxs)(Tn,{htmlFor:"pet-image",category:e.category,children:["my-pet"===e.category||y<768?"Add photo":"Load the pet\u2019s image:",(0,xn.jsxs)(Hn,{children:[!e.petPhoto&&(0,xn.jsx)(hn.pO,{width:"30",height:"30"}),!!e.petPhoto&&(0,xn.jsx)("img",{id:"image",src:URL.createObjectURL(e.petPhoto),alt:e.petPhoto.name})]}),(0,xn.jsx)(Nn,{type:"file",id:"pet-image",name:"petPhoto",accept:".png, .jpg, .jpeg, .webp",onChange:S,value:h,onBlur:function(){return J("petPhoto",e,m)}})]})]}),(0,xn.jsxs)(Dn,{children:["my-pet"!==e.category&&(0,xn.jsxs)(jn,{children:[(0,xn.jsxs)(kn,{htmlFor:"location",children:["Location",(0,xn.jsx)(wn,{placeholder:"Type of location",type:"text",name:"location",onChange:S,value:e.location,onBlur:function(){return J("location",e,m)},className:d.location?"invalid":""})]}),!!d.location&&(0,xn.jsx)(vn,{message:d.location})]}),"sell"===e.category&&(0,xn.jsxs)(jn,{children:[(0,xn.jsxs)(kn,{htmlFor:"price",children:["Price",(0,xn.jsx)(wn,{placeholder:"Type of price",type:"number",name:"price",onChange:S,value:e.price,onBlur:function(){return J("price",e,m)},className:d.price?"invalid":""})]}),!!d.price&&(0,xn.jsx)(vn,{message:d.price})]}),(0,xn.jsxs)(jn,{children:[(0,xn.jsxs)(Ln,{htmlFor:"comments",children:["Comments",(0,xn.jsx)(qn,{component:"textarea",placeholder:"Type comments",name:"comments",onChange:S,value:e.comments,onBlur:function(){return J("comments",e,m)},className:d.comments?"invalid":""})]}),!!d.comments&&(0,xn.jsx)(vn,{message:d.comments})]})]})]}),(0,xn.jsxs)(cn,{isMoreInfo:!0,category:e.category,children:[(0,xn.jsx)(bn,{type:"submit",text:"Done",icon:(0,xn.jsx)(hn.Gu,{}),filled:!0,clickHandler:r,isDisabled:c}),(0,xn.jsx)(gn,{type:"button",clickHandler:o,text:"Back",isLink:!1})]})]})},In=function(n){var e=n.formData,t=n.setFormData,r=n.nextStep,o=n.cancel,i=(n.setValues,(0,M.useState)(!0)),a=(0,H.Z)(i,2),c=a[0],s=a[1];(0,M.useEffect)((function(){e.category?s(!1):s(!0)}),[e.category]);var l=function(n){var e=n.target,r=e.name,o=e.value;t((function(n){return(0,V.Z)((0,V.Z)({},n),{},(0,R.Z)({},r,o))}))};return(0,xn.jsxs)(Sn,{children:[(0,xn.jsx)(Bn,{type:"radio",name:"category",value:"my-pet",id:"my-pet",onChange:l,checked:"my-pet"===e.category}),(0,xn.jsx)(Fn,{htmlFor:"my-pet",children:"Your pet"}),(0,xn.jsx)(Bn,{type:"radio",name:"category",value:"sell",id:"sell",checked:"sell"===e.category,onChange:l}),(0,xn.jsx)(Fn,{htmlFor:"sell",children:"Sell"}),(0,xn.jsx)(Bn,{type:"radio",name:"category",value:"lost-found",id:"lost-found",checked:"lost-found"===e.category,onChange:l}),(0,xn.jsx)(Fn,{htmlFor:"lost-found",children:"Lost/found"}),(0,xn.jsx)(Bn,{type:"radio",name:"category",value:"for-free",id:"for-free",checked:"for-free"===e.category,onChange:l}),(0,xn.jsx)(Fn,{htmlFor:"for-free",children:"In good hands"}),(0,xn.jsxs)(cn,{children:[(0,xn.jsx)(bn,{isDisabled:c,type:"button",text:"Next",icon:(0,xn.jsx)(hn.Gu,{}),clickHandler:r,filled:!1}),(0,xn.jsx)(gn,{text:"Cancel",isLink:!0,path:o})]})]})},Yn=function(n){var e=n.formData,t=n.setFormData,r=n.nextStep,o=n.backStep,i=(0,M.useState)({}),a=(0,H.Z)(i,2),c=a[0],s=a[1],l=(0,M.useState)(!1),u=(0,H.Z)(l,2),d=u[0],m=u[1],p=(0,M.useState)(),f=(0,H.Z)(p,2),h=f[0],x=f[1],g=Boolean(!c.name&&!!e.name),b=Boolean(!c.birthday&&!!e.birthday),y=Boolean(!c.breed&&!!e.breed),v=Boolean(!c.title&&!!e.title);(0,M.useEffect)((function(){"my-pet"===e.category&&m(!(g&&b&&y)),"my-pet"!==e.category&&m(!(g&&b&&y&&v)),x(function(){var n=new Date,e=n.getFullYear(),t=String(n.getMonth()+1).padStart(2,"0"),r=String(n.getDate()).padStart(2,"0");return"".concat(e,"-").concat(t,"-").concat(r)}())}),[c,e.category,b,y,g,v]);var Z=function(n){var e=n.target,r=e.name,o=e.value;s((function(n){return(0,V.Z)((0,V.Z)({},n),{},(0,R.Z)({},r,""))}));var i="birthday"===r?new Date(o).toLocaleDateString("uk-UA",{day:"2-digit",month:"2-digit",year:"numeric"}):o;t((function(n){return(0,V.Z)((0,V.Z)({},n),{},(0,R.Z)({},r,i))}))};return(0,xn.jsxs)(Zn,{children:["my-pet"!==e.category&&(0,xn.jsxs)(jn,{children:[(0,xn.jsxs)(kn,{htmlFor:"title",children:["Title of add:",(0,xn.jsx)(wn,{placeholder:"Type title",type:"text",name:"title",value:e.title,onChange:Z,onBlur:function(){return J("title",e,s)},className:c.title?"invalid":""})]}),!!c.title&&(0,xn.jsx)(vn,{message:c.title})]}),(0,xn.jsxs)(jn,{children:[(0,xn.jsxs)(kn,{htmlFor:"name",children:["Name:",(0,xn.jsx)(wn,{placeholder:"Type name pet",type:"text",name:"name",onChange:Z,value:e.name,onBlur:function(){return J("name",e,s)},className:c.name?"invalid":""})]}),!!c.name&&(0,xn.jsx)(vn,{message:c.name})]}),(0,xn.jsxs)(jn,{children:[(0,xn.jsxs)(kn,{htmlFor:"birthday",children:["Birthday:",(0,xn.jsx)(wn,{placeholder:"Type date of birth",type:"date",name:"birthday","data-pattern":"**.**.****",max:h,onChange:Z,value:e.birthday.split(".").reverse().join("-"),onBlur:function(){return J("birthday",e,s)},className:c.birthday?"invalid":""})]}),!!c.birthday&&(0,xn.jsx)(vn,{message:c.birthday})]}),(0,xn.jsxs)(jn,{children:[(0,xn.jsxs)(kn,{htmlFor:"breed",children:["Breed:",(0,xn.jsx)(wn,{placeholder:"Type breed",type:"text",name:"breed",onChange:Z,value:e.breed,onBlur:function(){return J("breed",e,s)},className:c.breed?"invalid":""})]}),!!c.breed&&(0,xn.jsx)(vn,{message:c.breed})]}),(0,xn.jsxs)(cn,{children:[(0,xn.jsx)(bn,{type:"button",text:"Next",icon:(0,xn.jsx)(hn.Gu,{}),clickHandler:r,filled:!1,isDisabled:d}),(0,xn.jsx)(gn,{type:"button",clickHandler:o,text:"Back",isLink:!1})]})]})},On=t(3137),Gn=t(2767),Un=t(4217),Xn=Q.ZP.div(E||(E=(0,K.Z)(["\n  display: flex;\n  flex-direction: column;\n  padding: 44px 20px;\n\n  text-align: center;\n  font-family: ",";\n  font-size: ",";\n\n  @media screen and (min-width: ",") {\n    padding: 64px 32px;\n    font-size: ",";\n  }\n"])),(function(n){return n.theme.fonts.main.meddium}),(function(n){return n.theme.fontSizes[3]}),(function(n){return n.theme.breakpoints.tablet}),(function(n){return n.theme.fontSizes[5]})),Rn=function(n){var e=n.backLink,t=n.category,r=(0,O.s0)(),o=(0,G.v9)(Un.zh),i=(0,G.v9)(Gn.hN),a=Boolean(o)||Boolean(i)?"Something went wrong, please try again.":"Pet was successfully added!",c="my-pet"===t?"Go to profile":"Go to your adds",s="my-pet"===t?"/user":"/notices/my-pets";return console.log({backLink:e,category:t}),(0,xn.jsxs)(Xn,{children:[(0,xn.jsx)("p",{children:a}),(0,xn.jsxs)(cn,{children:[(0,xn.jsx)(bn,{type:"button",text:c,icon:(0,xn.jsx)(hn.Gu,{}),clickHandler:function(){r(s)},filled:!1,isDisabled:!1}),(0,xn.jsx)(gn,{type:"button",clickHandler:function(){return r(e)},text:"Back",isLink:!1})]})]})},Vn=function(){var n,e,t=(0,M.useState)({category:"",name:"",title:"",birthday:"",breed:"",location:"",comments:"",petPhoto:null,sex:"",price:0}),r=(0,H.Z)(t,2),o=r[0],i=r[1],a=(0,M.useState)(!1),c=(0,H.Z)(a,2),s=c[0],l=c[1],u=(0,M.useState)(0),d=(0,H.Z)(u,2),m=d[0],p=d[1],f=(0,M.useState)(""),h=(0,H.Z)(f,2),x=h[0],g=h[1],b=null!==(n=null===(e=(0,O.TH)().state)||void 0===e?void 0:e.from)&&void 0!==n?n:"/",y=(0,O.s0)(),v=(0,G.I0)(),Z=(0,G.v9)(Un.xU),j=(0,G.v9)(Gn._M),k=Z||j,w=(0,M.useCallback)((function(){if(m<1)return"Add Pet";return{"my-pet":"Add my pet",sell:"Add pet for sell","lost-found":"Add to lost or found pet","for-free":"Add to give a Pet for Adoption","":"Add Pet"}[o.category]||"Add Pet"}),[o.category,m]);(0,M.useEffect)((function(){g(w())}),[w]);var P=function(){l((function(n){return!n}))},S=function(n){return n>m?"":n<m?"completed":"current"},B=function(n){p((function(n){return n+1}))},F=function(){p((function(n){return n-1}))},z=function(){var n=(0,T.Z)(I().mark((function n(){var e;return I().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(o.category){n.next=2;break}return n.abrupt("return");case 2:if((e=new FormData).append("name",o.name),e.append("birthday",o.birthday),e.append("breed",o.breed),e.append("pets-photo",o.petPhoto),o.comments&&e.append("comments",o.comments),"my-pet"!==o.category){n.next=12;break}return v((0,X.Ci)(e)),P(),n.abrupt("return");case 12:if(e.append("titleOfAdd",o.title),e.append("sex",o.sex),e.append("location",o.location),"lost-found"!==o.category){n.next=19;break}return v((0,U.Fy)({category:"lost-found",newFormData:e})),P(),n.abrupt("return");case 19:if("for-free"!==o.category){n.next=23;break}return v((0,U.Fy)({category:"in-good-hands",newFormData:e})),P(),n.abrupt("return");case 23:e.append("price",o.price),"sell"===o.category&&(v((0,U.Fy)({category:o.category,newFormData:e})),P());case 25:case"end":return n.stop()}}),n)})));return function(){return n.apply(this,arguments)}}();return(0,xn.jsxs)(nn,{step:m,category:o.category,children:[(0,xn.jsx)(tn,{children:x}),(0,xn.jsx)(rn,{children:["Choose Option","Personal Details","More Info"].map((function(n,e){return(0,xn.jsx)(on,{className:S(e),children:(0,xn.jsx)(an,{children:n})},e)}))}),(0,xn.jsx)(Y.J9,{initialValues:o,validationSchema:$,onSubmit:z,validateOnChange:!1,children:function(){return(0,xn.jsxs)(en,{autoComplete:"on",children:[0===m&&(0,xn.jsx)(In,{formData:o,setFormData:i,nextStep:B,cancel:b}),1===m&&(0,xn.jsx)(Yn,{formData:o,setFormData:i,nextStep:B,backStep:F}),2===m&&(0,xn.jsx)(_n,{formData:o,setFormData:i,backStep:F,submit:z})]})}}),s&&!k&&(0,xn.jsx)(On.Z,{toggleModal:function(){return y(b)},children:(0,xn.jsx)(Rn,{backLink:b,category:o.category})})]})},Wn=function(){return(0,xn.jsx)(Vn,{})}},2767:function(n,e,t){t.d(e,{_M:function(){return a},hN:function(){return c},lB:function(){return r},pC:function(){return o},wp:function(){return i}});var r=function(n){return n.notices.items},o=function(n){return n.notices.totalHits},i=function(n){return n.notices.currentNotice},a=function(n){return n.notices.isLoading},c=function(n){return n.notices.error}},3137:function(n,e,t){t.d(e,{Z:function(){return g}});var r,o,i,a=t(7689),c=t(4164),s=t(2791),l=t(8473),u=t(168),d=t(6444),m=d.ZP.div(r||(r=(0,u.Z)(["\n  position: fixed;\n  top: 0;\n  bottom: 0;\n  left: 0;\n  right: 0;\n\n  background-color: #51515199;\n\n  backdrop-filter: blur(",");\n\n  overflow-y: scroll;\n  z-index: 101;\n"])),(function(n){return n.inNoticePage?"4px":0})),p=d.ZP.div(o||(o=(0,u.Z)(["\n  position: absolute;\n  top: 10%;\n  left: 50%;\n\n  transform: translateX(-50%);\n  border-radius: 20px;\n  background-color: #ffffff;\n\n  z-index: 3;\n\n  @media screen and (min-width: ",") {\n    border-radius: 40px;\n  }\n"])),(function(n){return n.theme.breakpoints.tablet})),f=d.ZP.button(i||(i=(0,u.Z)(["\n  position: absolute;\n  top: 12px;\n  right: 12px;\n\n  background-color: transparent;\n  border: none;\n\n  color: ",";\n\n  & svg {\n    stroke: ",";\n\n    transition: stroke 250ms ",";\n  }\n  &:hover svg,\n  &:focus svg {\n    stroke: ",";\n  }\n\n  @media screen and (min-width: ",") {\n    top: 24px;\n    right: 24px;\n  }\n"])),(function(n){return n.theme.colors.black}),(function(n){return n.theme.colors.blue}),(function(n){return n.theme.transition.main}),(function(n){return n.theme.colors.yellow}),(function(n){return n.theme.breakpoints.tablet})),h=t(3329),x=document.getElementById("modal-root"),g=function(n){var e=n.toggleModal,t=n.children,r=(0,a.TH)().pathname.includes("notices");(0,s.useEffect)((function(){var n=function(n){"Escape"===n.code&&e()};return document.addEventListener("keydown",n),function(){document.removeEventListener("keydown",n)}}),[e]);return(0,c.createPortal)((0,h.jsx)(h.Fragment,{children:(0,h.jsx)(m,{onClick:function(n){n.target===n.currentTarget&&e()},inNoticePage:r,children:(0,h.jsxs)(p,{children:[(0,h.jsx)(f,{type:"button",onClick:e,children:(0,h.jsx)(l.aM,{})}),t]})})}),x)}}}]);
//# sourceMappingURL=749.ddbdb0c8.chunk.js.map